
  <div class="container-fluid pt-4">
    <div class="row">
      <div class="col-12 col-xl-12">
        <div class="card h-100">
          <div class="card-header pb-0 p-3">
            <div class="row">
              <div class="col-md-8 d-flex align-items-center">
                <h6 class="mb-0">General  Settings</h6>
              </div>
               <div class="col-md-4 text-end">
                <a class="btn mb-0" href="/setting/general"><i class="fas fa-caret-square-left"></i>&nbsp;&nbsp;Go back</a>
              </div>
            </div>
          </div>
          <div class="card-body p-3">
            <form role="form" id="formEditGeneral" onsubmit="return false;">
                <div class="row">
                  <div class="col-xl-6 col-lg-6 col-md-6">
                    <label>Oil field boundary hex code:</label>
                    <div class="mb-3">
                      <input name="hexCode" type="text" class="form-control" value="{{general.hexCode}}"
                        id="hexCodeGeneral">
                    </div>
                  </div>
                  <div class="col-xl-6 col-lg-6 col-md-6">
                    <label>Session expires:</label>
                    <div class="mb-3">
                      <input name="expiresSessions" type="text" class="form-control" value="{{general.expiresSessions}}"
                        id="expiresSessionsGeneral">
                    </div>
                  </div>
                  <div class="text-center">
                    <button type="submit" class="btn bg-gradient-dark mt-4 mb-0">Save setting</button>
                  </div>
                </div>
              </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
  const formEditGeneral = document.getElementById('formEditGeneral');
  const hexCode = document.getElementById('hexCodeGeneral');
  const expiresSessions = document.getElementById('expiresSessionsGeneral');

  formEditGeneral.addEventListener('submit', (e) => {
    const formData = {
      hexCode: hexCode.value,
      expiresSessions: expiresSessions.value
    }

    fetch('/setting/general/{{general._id}}/edit', {
      method: 'PUT',
      body: JSON.stringify(formData),
      headers: { 'Content-Type': 'application/json' },
    }).then((res) => {
      const response = {
        status: res.status,
        data: res.json(),
      }
      return response
    })
      .then(data => {
        data.data.then((val) => {
          if (data.status != 200) {
            Swal.fire({
              position: 'center',
              icon: 'error',
              text: val.message,
              showConfirmButton: false,
              timer: 1500
            })
          } else {
            Swal.fire({
              position: "center",
              icon: "success",
              text: val.message,
              showConfirmButton: false,
              timer: 1500
            }).then(() => {
              window.location.href = "/setting/general"
            });
          }
        })
      })
  })
</script>